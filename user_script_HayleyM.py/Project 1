"""

Purpose: Project One

Author: Hayley Massey

Hello! My favorite video game is Monster Hunter Rise. The goal is to defeat the monster in a set time frame. 
One of my favorite weapon types is dual blades. They produce low damage values, but fast multiple hits.
Lets calculate my overall damage to the monster. 

"""
import logging
import pathlib
import platform
import sys
import os
import datetime

def get_source_directory_path(current_file):
    """Returns the absolute path to this source directory."""
    dir = os.path.dirname(os.path.abspath(current_file))
    return dir

def setup_logger(current_file):
    '''Setup a logger to automatically log useful information.
      @param current_file: the name of the file reqesting a logger.
      @returns: the logger object and the name of the logfile.
    '''
    logs_dir = pathlib.Path("logs")
    logs_dir.mkdir(exist_ok=True)

    module_name = pathlib.Path(current_file).stem
    log_file_name = logs_dir.joinpath(module_name + ".log")

    logging.basicConfig(filename=log_file_name, filemode='w', level=logging.DEBUG, format='%(asctime)s %(message)s')
    logger = logging.getLogger(module_name)

    divider_string = "============================================================="
    python_version_string  = platform.python_version()
    today = datetime.date.today()

    logger.info(divider_string)
    logger.info(divider_string)
    logger.info(f"Today is {today} at {datetime.datetime.now().strftime('%I:%M %p')}")
    logger.info(f"This file is running on: {os.name} {platform.system()} {platform.release()}")
    logger.info(f"The Python version is: {python_version_string}")
    logger.info(f"The active conda environment is:  {os.environ.get('CONDA_DEFAULT_ENV') }")
    logger.info(f"The active pip environment is:    {os.environ.get('PIP_DEFAULT_ENV') }")
    logger.info(f"The active environment path is:   {sys.prefix}")
    logger.info(f"The current working directory is: {os.getcwd()}")
    logger.info(f"This source file is in:           {get_source_directory_path(current_file)}")
    logger.info(divider_string)
    logger.info(divider_string)

    return logger, log_file_name

if __name__ == "__main__":
    logger, logname = setup_logger(__file__)
    logger.info(f"Starting util_datafun_logger.py")
    logger.info(f"Information is logged to: logs/{logname}")
    logger.info(f"Ending util_datafun_logger.py")

    # Use built-in open() function to read log file and print it to the terminal
    with open(logname, 'r') as file_wrapper:
        print(file_wrapper.read())

print("Greetings!")

#Demonstrates the use of a varaible
name = "Hayley"
print (name)

print("Hello! My favorite video game is Monster Hunter Rise. The goal is to defeat the monster in a set time frame. One of my favorite weapon types is dual blades. They produce low damage values, but fast multiple hits.Lets calculate my overall damage to the monster.")

#Here is some damage numbers
numbers = [11, 10, 9, 10, 30, 7, 10, 9]

print ("What is our total damage?")
Sum = sum(numbers)
print(Sum)

print ("What is our average damage?")
average = sum(numbers)/len(numbers)

print("Average of list: ", round(average,3))

print("what was our minimum damage?")
min = min(numbers)
print(min)

print("what was our maximum damage?")
max = max(numbers)
print (max)

#Oh no I took some damage from the monster
print ("Damage from the monster was taken! Please take two health potions" )

print("I healed for this much health:") 
print(2*10.4)

